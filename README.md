# 簡易仕様書

### 作者
宮本兼伸

### アプリ名
GourmetSearch

#### コンセプト
近くの”おいしい”を探す。

#### こだわったポイント
店舗一覧および店舗詳細の画像表示には AsyncImage を使用し、非同期で読み込むようにしました。
同期処理の場合、画像取得中に UI がブロックされて画面が固まるリスクがあるためです。
ローディング中は ProgressView を表示し、ユーザー体験を損なわない設計にしています。

アーキテクチャは MVVM に Service 層と Domain 層を追加し、Model・View・ViewModel・Service・Domain の責務を明確に分離しました。
View は表示処理のみに集中させ、ロジックや通信処理は ViewModel・Service・Domain に切り出すことで、可読性・保守性を高め、機能追加や仕様変更にも柔軟に対応できる構成にしています。

お気に入り機能のデータ永続化には CoreData を採用しました。
UserDefaults は少量データの保存には適していますが、将来的に検索機能や並び替え機能を実装することや、データ件数が増加した場合の管理・拡張性に不安があると考え、本アプリでは CoreData を使用しています。

### 該当プロジェクトのリポジトリ URL（GitHub,GitLab など Git ホスティングサービスを利用されている場合）
https://github.com/kenshin0413/GourmetSearch-app

## 開発環境
### 開発環境
Xcode 16.0.0

### 開発言語
Swift 5.0

## 動作対象端末・OS
### 動作対象OS
iOS 18.0 以上
### 動作確認端末
iPhone 16 Pro 

## 開発期間
7日間

## アプリケーション機能

### 機能一覧
- 現在地取得・住所表示：位置情報の許可取得、現在地の緯度経度と簡易住所（都道府県/市/地区）の表示。
- 周辺レストラン検索：ホットペッパーグルメサーチAPIを使用し、現在地周辺をキーワード＋距離範囲（300m/500m/1km/2km/3km）で検索。
- クイックキーワード：ラーメン/焼肉/寿司/カフェ/居酒屋/定食/イタリアン/パンをワンタップで条件に反映。
- 検索結果一覧：店舗カード表示（写真・ジャンル・予算・アクセス・キャッチコピー・現在地からの距離）。
- 店舗詳細表示：大きな写真、店舗名、キャッチ、距離、予算、住所、アクセス、カード可否、駐車場を表示。
- 外部連携：地図アプリ（Apple Maps）で店舗住所を開く、公式サイト（ホットペッパー）をSafariで表示。
- お気に入り管理：店舗のお気に入り追加/削除、一覧表示、編集モードでの削除、CoreDataによる永続化。
- 画面構成：スプラッシュ表示後、タブ（検索/お気に入り）でナビゲーション。

### 画面一覧
 - スプラッシュ画面：アプリアイコンを表示し、約1.5秒後に自動でメインへ遷移する。
 - 検索画面：現在地・住所を表示し、キーワード/検索範囲/人気キーワードを指定して検索を実行する。
 - 検索結果一覧画面：店舗をカード(写真・ジャンル・予算・アクセス・キャッチコピー・現在地からの距離)で一覧表示し、タップで店舗詳細へ遷移する。
 - 店舗詳細画面：写真・距離・予算・住所・アクセス・カード可否・駐車場を表示し、地図アプリ/公式サイトへ遷移・お気に入り追加/削除を行う。
 - お気に入り一覧画面：保存した店舗を一覧表示し、編集モードで削除でき、店舗詳細へ遷移する。


### 使用しているAPI,SDK,ライブラリなど
- ホットペッパーグルメサーチAPI
   飲食店検索および店舗情報取得に使用。
 - SwiftUI
    画面UI構築および画面遷移、状態管理に使用。
 - Foundation
    API通信（URLSession）、JSONデコード、日付/正規表現などの基盤処理に使用。
 - CoreLocation
    端末の現在地取得および位置情報の許可管理に使用。
 - CoreData
    お気に入り店舗データの永続化保存に使用。
 - Combine
    ObservableObject / @Published による状態管理とUI更新に使用。
 - 外部ライブラリ：なし

### 技術面でアドバイスして欲しいポイント

UserDefaults は主にアプリの設定情報や軽量な状態管理に使用されることが多い一方で、お気に入りのような件数が増加するデータや検索・並び替えが想定されるデータはCoreData などの永続ストレージを使用するケースが一般的だと認識しています。
実務において、UserDefaults と CoreData をどのような基準で使い分けているのか、設計判断の考え方についてアドバイスをいただきたいです。
